# 区块链基础

区块链的概念对程序员来说并不难理解。这个是因为大多数的名词（mining、[hashing](https://baike.baidu.com/item/%E5%AF%86%E7%A0%81%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B0/14937715)、[elliptic-curve cryptography](https://baike.baidu.com/item/%E6%A4%AD%E5%9C%86%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/10305582)、[peer-to-peer networks](https://baike.baidu.com/item/%E5%AF%B9%E7%AD%89%E7%BD%91%E7%BB%9C/5482934)等）是为了平台提供一组明确的功能和权限。一旦你接受这些给定的功能时，你不用担心底层的技术。这就像你为了使用AWS而必须知道它内部的运行机制一样。

## 交易

一个区块链是全球共享的，交易数据库。这意味着任何人通过参与网络读取这个数据库的全部内容。如果你想改变这个数据库中的信息，你必须创建一笔所谓的交易，它必须被所有人接受。“交易”这个词的含义是你希望做的这个变更(假设你想更改同时更改两个值)，要么根本不做，要么完全完成。此外，当你的交易被应用在数据库上，没有其他交易可以修改它。

举个例子，想象有这样一张表，它列出了所有电子货币账户的余额。如果要求从一个账户向另一个账户转账，数据库的交易性确保，如果一个账户减少一个数额，它总是会被加到另一个账户里。如果因为无论什么原因，添加到目标账户的金额没有成功，原账户就一直不会被修改。

此外，一笔交易始终是被发送者(创建者)加密签名的。这使得保护对数据库特定修改的访问变得简单了。在这个电子货币的例子中，一个简单的检查，确保只有持有帐户key的人可以从这个帐户里转账。


## 区块

一个被称为“双花费攻击double-spend-attack”（比特币术语）是一个主要要被克服的障碍：如果在网络中存在两笔交易同时想要清空一个帐户这时会发生什么？只有一笔交易是有效的，通常它是最先接受的那一个。问题是在P2P网络中“第一个”不是客观的术语。

对这个的抽象回答是你不必关心的。将为您选择一个被全球所接受的交易顺序，解决这个冲突。这个交易将被打包进所谓的“块”里，之后他们将在所有参与的节点中被执行和分发。如果两笔交易互斥，最终排名第二的将被拒绝，不会成为“块”的一部分。

这些“块”在时间上形成一个线性顺序，这就是“区块链”一词的来源。“块”按照一个相当规律间隔被添加到区块链里，对以太坊来说这个间隔大约是17秒一次。

作为“顺序选择机制”(挖矿mining)的一部分，“块”可能发生时不时的被还原的情况，但是只出现在链的“顶端”。在一个特定“块”的上面添加的“块”越多，“块”会被还原的机会越小。所以你的交易是有可能从区块链上被还原甚至被删除的，但是等待时间越长，可能性越小。

<br/>

<div style="background:#76afdb;color:#fff;padding:5px;font-weight:600">
⚠️ Note
</div>
<div style="background:#e9f2fa;color:#404040;padding:10px">
交易不一定包含在下一个“块”或任何一个未来的任何一个块里。因为交易的提交者不负责，而是有“矿工”决定交易包含在哪个区块中。

如果你想安排你的合约的未来调用，你可以用智能合约自动工具或者oracle服务。
</div>